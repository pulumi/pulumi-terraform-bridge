name: basicprogram
runtime: yaml
resources:

  # MVP resource, check string inputs and outputs.
  testres1:
    type: testbridge:index/testres:Testres
    properties:
      statedir: state
      requiredInputString: "input1"

  # Chain to testres1 to test handling unknowns.
  testres2:
    type: testbridge:index/testres:Testres
    properties:
      statedir: state
      requiredInputString: ${testres1.requiredInputStringCopy}

  # Test setting optional strings.
  testres3:
    type: testbridge:index/testres:Testres
    properties:
      statedir: state
      requiredInputString: "x"
      optionalInputString: "y"

outputs:
  # Should be equal to "input1".
  requiredInputStringCopy: ${testres1.requiredInputStringCopy}

  # Should not be set.
  optionalInputStringCopy: ${testres1.optionalInputStringCopy}

  # Should also be equal to "input1".
  requiredInputStringCopy2: ${testres2.requiredInputStringCopy}

  # Should be equal to "y".
  testoptstring: ${testres3.optionalInputStringCopy}
